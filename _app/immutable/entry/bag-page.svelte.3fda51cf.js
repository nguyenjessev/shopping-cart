import{S as ve,i as _e,s as me,k as h,a as B,q as T,l as b,m as y,h as _,c as N,r as U,I as ue,n as p,b as A,D as o,M as ee,N as te,u as L,E as Y,O as be,F as le,d as j,f as pe,g as z,v as he,P as ge,y as ye,z as Ie,A as Ee,B as ke}from"../chunks/index.54b01e36.js";import{b as P,a as we}from"../chunks/stores.f90bd155.js";function De(e){let l,s,t,m,I,g,i,u,c,v=e[0].name+"",E,D,f,a=e[2].format(e[0].price)+"",k,r,n,d,$,w,S,G,Q,q,W,H=e[1].get(e[0])+"",J,X,O,M,Z,se;return{c(){l=h("div"),s=h("div"),t=h("img"),g=B(),i=h("div"),u=h("div"),c=h("h3"),E=T(v),D=B(),f=h("div"),k=T(a),r=B(),n=h("button"),d=T("Remove"),$=B(),w=h("div"),S=h("button"),G=h("i"),Q=B(),q=h("div"),W=T("x"),J=T(H),X=B(),O=h("button"),M=h("i"),this.h()},l(C){l=b(C,"DIV",{class:!0});var V=y(l);s=b(V,"DIV",{class:!0});var ae=y(s);t=b(ae,"IMG",{src:!0,alt:!0,class:!0}),ae.forEach(_),g=N(V),i=b(V,"DIV",{class:!0});var K=y(i);u=b(K,"DIV",{});var F=y(u);c=b(F,"H3",{class:!0});var re=y(c);E=U(re,v),re.forEach(_),D=N(F),f=b(F,"DIV",{class:!0});var oe=y(f);k=U(oe,a),oe.forEach(_),r=N(F),n=b(F,"BUTTON",{class:!0});var ne=y(n);d=U(ne,"Remove"),ne.forEach(_),F.forEach(_),$=N(K),w=b(K,"DIV",{class:!0});var R=y(w);S=b(R,"BUTTON",{class:!0});var ce=y(S);G=b(ce,"I",{class:!0}),y(G).forEach(_),ce.forEach(_),Q=N(R),q=b(R,"DIV",{class:!0});var x=y(q);W=U(x,"x"),J=U(x,H),x.forEach(_),X=N(R),O=b(R,"BUTTON",{class:!0});var ie=y(O);M=b(ie,"I",{class:!0}),y(M).forEach(_),ie.forEach(_),R.forEach(_),K.forEach(_),V.forEach(_),this.h()},h(){ue(t.src,m=e[0].image)||p(t,"src",m),p(t,"alt",I=e[0].name),p(t,"class","product-image svelte-yl8bdw"),p(s,"class","img-container svelte-yl8bdw"),p(c,"class","product-name svelte-yl8bdw"),p(f,"class","product-price"),p(n,"class","remove-bag-item svelte-yl8bdw"),p(G,"class","fa-solid fa-angle-up"),p(S,"class","quantity-control svelte-yl8bdw"),p(q,"class","quantity svelte-yl8bdw"),p(M,"class","fa-solid fa-angle-down"),p(O,"class","quantity-control svelte-yl8bdw"),p(w,"class","quantity-controls svelte-yl8bdw"),p(i,"class","product-info svelte-yl8bdw"),p(l,"class","bag-item-row svelte-yl8bdw")},m(C,V){A(C,l,V),o(l,s),o(s,t),o(l,g),o(l,i),o(i,u),o(u,c),o(c,E),o(u,D),o(u,f),o(f,k),o(u,r),o(u,n),o(n,d),o(i,$),o(i,w),o(w,S),o(S,G),o(w,Q),o(w,q),o(q,W),o(q,J),o(w,X),o(w,O),o(O,M),Z||(se=[ee(n,"click",function(){te(e[3](e[0]))&&e[3](e[0]).apply(this,arguments)}),ee(S,"click",function(){te(e[4](e[0]))&&e[4](e[0]).apply(this,arguments)}),ee(O,"click",function(){te(e[5](e[0]))&&e[5](e[0]).apply(this,arguments)})],Z=!0)},p(C,[V]){e=C,V&1&&!ue(t.src,m=e[0].image)&&p(t,"src",m),V&1&&I!==(I=e[0].name)&&p(t,"alt",I),V&1&&v!==(v=e[0].name+"")&&L(E,v),V&1&&a!==(a=e[2].format(e[0].price)+"")&&L(k,a),V&3&&H!==(H=e[1].get(e[0])+"")&&L(J,H)},i:Y,o:Y,d(C){C&&_(l),Z=!1,be(se)}}}function Ve(e,l,s){let t;le(e,P,c=>s(1,t=c));let{product:m}=l;const I=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),g=c=>{P.update(v=>(v.delete(c),v))},i=c=>{P.update(v=>(v.set(c,v.get(c)+1),v))},u=c=>{P.update(v=>(v.get(c)<=1?v.delete(c):v.set(c,v.get(c)-1),v))};return e.$$set=c=>{"product"in c&&s(0,m=c.product)},[m,t,I,g,i,u]}class Se extends ve{constructor(l){super(),_e(this,l,Ve,De,me,{product:0})}}function fe(e,l,s){const t=e.slice();return t[3]=l[s],t}function Be(e){let l,s,t,m,I,g,i=e[2].format(e[1])+"",u,c,v,E,D,f=[...e[0]],a=[];for(let r=0;r<f.length;r+=1)a[r]=de(fe(e,f,r));const k=r=>j(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();l=B(),s=h("div"),t=h("div"),m=h("strong"),I=T("Subtotal:"),g=B(),u=T(i),c=B(),v=h("button"),E=T("Checkout"),this.h()},l(r){for(let S=0;S<a.length;S+=1)a[S].l(r);l=N(r),s=b(r,"DIV",{class:!0});var n=y(s);t=b(n,"DIV",{class:!0});var d=y(t);m=b(d,"STRONG",{});var $=y(m);I=U($,"Subtotal:"),$.forEach(_),g=N(d),u=U(d,i),d.forEach(_),c=N(n),v=b(n,"BUTTON",{class:!0});var w=y(v);E=U(w,"Checkout"),w.forEach(_),n.forEach(_),this.h()},h(){p(t,"class","subtotal"),p(v,"class","checkout-btn svelte-vrbpip"),p(s,"class","bag-footer svelte-vrbpip")},m(r,n){for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(r,n);A(r,l,n),A(r,s,n),o(s,t),o(t,m),o(m,I),o(t,g),o(t,u),o(s,c),o(s,v),o(v,E),D=!0},p(r,n){if(n&1){f=[...r[0]];let d;for(d=0;d<f.length;d+=1){const $=fe(r,f,d);a[d]?(a[d].p($,n),z(a[d],1)):(a[d]=de($),a[d].c(),z(a[d],1),a[d].m(l.parentNode,l))}for(he(),d=f.length;d<a.length;d+=1)k(d);pe()}(!D||n&2)&&i!==(i=r[2].format(r[1])+"")&&L(u,i)},i(r){if(!D){for(let n=0;n<f.length;n+=1)z(a[n]);D=!0}},o(r){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)j(a[n]);D=!1},d(r){ge(a,r),r&&_(l),r&&_(s)}}}function Ne(e){let l;return{c(){l=T("Your bag is currently empty.")},l(s){l=U(s,"Your bag is currently empty.")},m(s,t){A(s,l,t)},p:Y,i:Y,o:Y,d(s){s&&_(l)}}}function de(e){let l,s;return l=new Se({props:{product:e[3][0]}}),{c(){ye(l.$$.fragment)},l(t){Ie(l.$$.fragment,t)},m(t,m){Ee(l,t,m),s=!0},p(t,m){const I={};m&1&&(I.product=t[3][0]),l.$set(I)},i(t){s||(z(l.$$.fragment,t),s=!0)},o(t){j(l.$$.fragment,t),s=!1},d(t){ke(l,t)}}}function Te(e){let l,s,t,m,I,g,i,u,c;const v=[Ne,Be],E=[];function D(f,a){return f[0].size?1:0}return i=D(e),u=E[i]=v[i](e),{c(){l=h("div"),s=h("div"),t=h("h1"),m=T("Bag"),I=B(),g=h("div"),u.c(),this.h()},l(f){l=b(f,"DIV",{class:!0});var a=y(l);s=b(a,"DIV",{class:!0});var k=y(s);t=b(k,"H1",{});var r=y(t);m=U(r,"Bag"),r.forEach(_),I=N(k),g=b(k,"DIV",{class:!0});var n=y(g);u.l(n),n.forEach(_),k.forEach(_),a.forEach(_),this.h()},h(){p(g,"class","bag-items svelte-vrbpip"),p(s,"class","content svelte-vrbpip"),p(l,"class","container svelte-vrbpip")},m(f,a){A(f,l,a),o(l,s),o(s,t),o(t,m),o(s,I),o(s,g),E[i].m(g,null),c=!0},p(f,[a]){let k=i;i=D(f),i===k?E[i].p(f,a):(he(),j(E[k],1,1,()=>{E[k]=null}),pe(),u=E[i],u?u.p(f,a):(u=E[i]=v[i](f),u.c()),z(u,1),u.m(g,null))},i(f){c||(z(u),c=!0)},o(f){j(u),c=!1},d(f){f&&_(l),E[i].d()}}}function Ue(e,l,s){let t,m;le(e,P,g=>s(0,t=g)),le(e,we,g=>s(1,m=g));const I=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return[t,m,I]}class Oe extends ve{constructor(l){super(),_e(this,l,Ue,Te,me,{})}}export{Oe as default};
